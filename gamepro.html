<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MindCode Memory Game</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:#0f172a;
    color:white;
    text-align:center;
}

h1{
    margin-top:20px;
    color:#38bdf8;
}

.controls{
    margin:20px;
}

select,button{
    padding:8px 12px;
    border-radius:6px;
    border:none;
    margin:5px;
    font-weight:bold;
}

button{
    cursor:pointer;
}

.game-board{
    display:grid;
    gap:10px;
    justify-content:center;
    margin-top:20px;
}

.card{
    width:70px;
    height:70px;
    background:#1e293b;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:28px;
    cursor:pointer;
    transition:0.3s;
}

.card:hover{
    background:#334155;
}

.card.flipped{
    background:#22c55e;
}

.info{
    margin-top:15px;
    font-size:18px;
}
</style>
</head>

<body>

<h1 id="title">ğŸ§  MindCode Memory Game</h1>

<div class="controls">

<select id="language" onchange="changeLanguage()">
    <option value="en">English (US)</option>
    <option value="uk">English (UK)</option>
    <option value="ar">Arabic</option>
    <option value="fr">French</option>
    <option value="de">German</option>
    <option value="id">Indonesian</option>
    <option value="jp">Japanese</option>
</select>

<select id="difficulty">
    <option value="easy">Easy (6 blocks)</option>
    <option value="medium">Medium (12 blocks)</option>
    <option value="hard">Hard (20 blocks)</option>
</select>

<button onclick="startGame()" id="startBtn">Start Game</button>
<button onclick="toggleMute()">ğŸ”Š Mute</button>

</div>

<div class="info">
    â³ <span id="timeText">Time</span>: <span id="timer">0</span> |
    â­ <span id="scoreText">Score</span>: <span id="score">0</span> |
    ğŸ¯ <span id="levelText">Level</span>: <span id="level">1</span>
</div>

<div class="game-board" id="board"></div>

<audio id="matchSound">
<source src="assets/match.mp3" type="audio/mpeg">
</audio>

<audio id="levelSound">
<source src="assets/levelup.mp3" type="audio/mpeg">
</audio>

<script>

let board = document.getElementById("board");
let timerDisplay = document.getElementById("timer");
let scoreDisplay = document.getElementById("score");
let levelDisplay = document.getElementById("level");
let difficultySelect = document.getElementById("difficulty");
let matchSound = document.getElementById("matchSound");
let levelSound = document.getElementById("levelSound");

let timer = 0;
let score = 0;
let level = 1;
let interval;
let firstCard = null;
let lockBoard = false;
let mute = false;

function toggleMute(){
    mute = !mute;
    alert(mute ? "Sound Muted" : "Sound On");
}

function startGame(){

    clearInterval(interval);
    timer = 0;
    score = 0;
    firstCard = null;
    lockBoard = false;

    timerDisplay.textContent = timer;
    scoreDisplay.textContent = score;
    levelDisplay.textContent = level;

    board.innerHTML = "";

    let blocks;

    if(difficultySelect.value === "easy"){
        blocks = 6;
        board.style.gridTemplateColumns = "repeat(3, 70px)";
    }
    else if(difficultySelect.value === "medium"){
        blocks = 12;
        board.style.gridTemplateColumns = "repeat(4, 70px)";
    }
    else{
        blocks = 20;
        board.style.gridTemplateColumns = "repeat(5, 70px)";
    }

    let emojis = ["ğŸ","ğŸš—","ğŸ¶","ğŸŒŸ","ğŸ•","ğŸµ","âš½","ğŸ“š","ğŸŒˆ","ğŸ²"];
    let selected = emojis.slice(0, blocks/2);
    let cards = [...selected, ...selected];
    cards.sort(()=>0.5-Math.random());

    cards.forEach(symbol=>{
        let card = document.createElement("div");
        card.classList.add("card");
        card.dataset.symbol = symbol;
        card.innerHTML = "?";
        card.addEventListener("click", flipCard);
        board.appendChild(card);
    });

    interval = setInterval(()=>{
        timer++;
        timerDisplay.textContent = timer;
    },1000);
}

function flipCard(){

    if(lockBoard) return;
    if(this.classList.contains("flipped")) return;

    this.classList.add("flipped");
    this.innerHTML = this.dataset.symbol;

    if(!firstCard){
        firstCard = this;
        return;
    }

    if(firstCard.dataset.symbol === this.dataset.symbol){

        score += 10;
        scoreDisplay.textContent = score;

        if(!mute) matchSound.play();

        firstCard = null;

        checkWin();
    }
    else{
        lockBoard = true;

        setTimeout(()=>{
            this.classList.remove("flipped");
            this.innerHTML = "?";
            firstCard.classList.remove("flipped");
            firstCard.innerHTML = "?";
            firstCard = null;
            lockBoard = false;
        },800);
    }
}

function checkWin(){

    let allFlipped = document.querySelectorAll(".card.flipped");

    if(allFlipped.length === board.children.length){

        clearInterval(interval);

        if(!mute) levelSound.play();

        setTimeout(()=>{
            alert("ğŸ‰ Level Completed!");
            level++;
            levelDisplay.textContent = level;
            startGame();
        },500);
    }
}

/* ğŸŒ LANGUAGE SYSTEM */

function changeLanguage(){

    let lang = document.getElementById("language").value;

    let translations = {
        en: {start:"Start Game", time:"Time", score:"Score", level:"Level"},
        uk: {start:"Start Game", time:"Time", score:"Score", level:"Level"},
        ar: {start:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©", time:"Ø§Ù„ÙˆÙ‚Øª", score:"Ø§Ù„Ù†Ù‚Ø§Ø·", level:"Ø§Ù„Ù…Ø³ØªÙˆÙ‰"},
        fr: {start:"DÃ©marrer", time:"Temps", score:"Score", level:"Niveau"},
        de: {start:"Starten", time:"Zeit", score:"Punkte", level:"Level"},
        id: {start:"Mulai Game", time:"Waktu", score:"Skor", level:"Level"},
        jp: {start:"ã‚²ãƒ¼ãƒ é–‹å§‹", time:"æ™‚é–“", score:"ã‚¹ã‚³ã‚¢", level:"ãƒ¬ãƒ™ãƒ«"}
    };

    document.getElementById("startBtn").innerText = translations[lang].start;
    document.getElementById("timeText").innerText = translations[lang].time;
    document.getElementById("scoreText").innerText = translations[lang].score;
    document.getElementById("levelText").innerText = translations[lang].level;
}

</script>

</body>
</html>
